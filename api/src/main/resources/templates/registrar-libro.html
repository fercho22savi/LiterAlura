<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${accion} + ' Libro'">Registrar / Editar Libro</title>
    <link rel="stylesheet" th:href="@{/styles.css}">
</head>
<body>
<header class="header">
    <h1 th:text="${accion} + ' Libro'">Registrar Libro</h1>
</header>

<main class="content">
    <form class="libro-form" th:action="@{/libros/guardar}" th:object="${libro}" method="post">
        <!-- ID oculto -->
        <input type="hidden" th:field="*{id}" />

        <h3 th:text="${accion} + ' Libro'">Registrar Libro</h3>

        <!-- Título -->
        <label for="titulo">Título:</label>
        <input type="text" id="titulo" th:field="*{titulo}" placeholder="Título del libro">
        <div th:if="${#fields.hasErrors('titulo')}" th:errors="*{titulo}"></div>

        <!-- Idioma -->
        <label for="idioma">Idioma:</label>
        <input type="text" id="idioma" th:field="*{idioma}" placeholder="Idioma del libro">
        <div th:if="${#fields.hasErrors('idioma')}" th:errors="*{idioma}"></div>

        <!-- Descargas -->
        <label for="descargas">Descargas:</label>
        <input type="number" id="descargas" th:field="*{descargas}" placeholder="Número de descargas">

        <!-- Autor -->
        <h3>Autor</h3>
        <input type="hidden" th:field="*{autorId}" />

        <label for="autorNombre">Nombre del Autor:</label>
        <input type="text" id="autorNombre" th:field="*{autorNombre}" placeholder="Nombre del autor">
        <div th:if="${#fields.hasErrors('autorNombre')}" th:errors="*{autorNombre}"></div>

        <label for="autorBirthYear">Año de Nacimiento:</label>
        <input type="number" id="autorBirthYear" th:field="*{autorBirthYear}" placeholder="Año de nacimiento">

        <label for="autorDeathYear">Año de Fallecimiento:</label>
        <input type="number" id="autorDeathYear" th:field="*{autorDeathYear}" placeholder="Año de fallecimiento">

        <!-- Botón Guardar -->
        <button type="submit" th:text="${accion} + ' Libro'">Guardar Libro</button>
    </form>
</main>

<footer class="footer">
    <p>Gutendex Dashboard &copy; 2026</p>
</footer>
</body>
</html>
